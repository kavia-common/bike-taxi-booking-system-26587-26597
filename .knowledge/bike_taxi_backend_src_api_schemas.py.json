{"is_source_file": true, "format": "Python", "description": "This file defines data models using Pydantic for a bike-taxi booking system API. It specifies request and response schemas for user management, ride requests, trip updates, and payments, as well as enumerations for user roles.", "external_files": ["pydantic", "typing", "datetime", "enum"], "external_methods": [], "published": ["Token", "Role", "UserCreate", "UserLogin", "UserOut", "DriverCreate", "DriverOut", "RideRequest", "RideOut", "TripUpdateIn", "TripUpdateOut", "PaymentInit", "PaymentOut"], "classes": [{"name": "Token", "description": "JWT Access token response, containing the token, its type, and expiration."}, {"name": "Role", "description": "Enumeration of user roles: passenger, driver, admin."}, {"name": "UserCreate", "description": "Schema for user registration requests."}, {"name": "UserLogin", "description": "Schema for user login requests."}, {"name": "UserOut", "description": "Schema for publicly exposed user info."}, {"name": "DriverCreate", "description": "Schema for creating or updating a driver profile."}, {"name": "DriverOut", "description": "Schema for driver profile details output."}, {"name": "RideRequest", "description": "Schema for ride booking requests with pickup and dropoff coordinates."}, {"name": "RideOut", "description": "Schema for ride information displayed to clients."}, {"name": "TripUpdateIn", "description": "Schema for live trip location updates."}, {"name": "TripUpdateOut", "description": "Schema for trip update responses, including timestamp."}, {"name": "PaymentInit", "description": "Schema to initiate a payment for a ride."}, {"name": "PaymentOut", "description": "Schema for payment response details."}], "methods": [], "calls": [], "search-terms": ["Pydantic models", "ride booking schemas", "user role enum", "trip updates", "payment schemas", "API request/response models"], "state": 2, "file_id": 7, "knowledge_revision": 34, "git_revision": "8964267cff7520ec802aae4962b31f19d873d7d7", "revision_history": [{"15": ""}, {"34": "8964267cff7520ec802aae4962b31f19d873d7d7"}], "ctags": [{"_type": "tag", "name": "DriverCreate", "path": "/home/kavia/workspace/code-generation/bike-taxi-booking-system-26587-26597/bike_taxi_backend/src/api/schemas.py", "pattern": "/^class DriverCreate(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "DriverOut", "path": "/home/kavia/workspace/code-generation/bike-taxi-booking-system-26587-26597/bike_taxi_backend/src/api/schemas.py", "pattern": "/^class DriverOut(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "PaymentInit", "path": "/home/kavia/workspace/code-generation/bike-taxi-booking-system-26587-26597/bike_taxi_backend/src/api/schemas.py", "pattern": "/^class PaymentInit(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "PaymentOut", "path": "/home/kavia/workspace/code-generation/bike-taxi-booking-system-26587-26597/bike_taxi_backend/src/api/schemas.py", "pattern": "/^class PaymentOut(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "RideOut", "path": "/home/kavia/workspace/code-generation/bike-taxi-booking-system-26587-26597/bike_taxi_backend/src/api/schemas.py", "pattern": "/^class RideOut(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "RideRequest", "path": "/home/kavia/workspace/code-generation/bike-taxi-booking-system-26587-26597/bike_taxi_backend/src/api/schemas.py", "pattern": "/^class RideRequest(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "Role", "path": "/home/kavia/workspace/code-generation/bike-taxi-booking-system-26587-26597/bike_taxi_backend/src/api/schemas.py", "pattern": "/^class Role(str, Enum):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "Token", "path": "/home/kavia/workspace/code-generation/bike-taxi-booking-system-26587-26597/bike_taxi_backend/src/api/schemas.py", "pattern": "/^class Token(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "TripUpdateIn", "path": "/home/kavia/workspace/code-generation/bike-taxi-booking-system-26587-26597/bike_taxi_backend/src/api/schemas.py", "pattern": "/^class TripUpdateIn(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "TripUpdateOut", "path": "/home/kavia/workspace/code-generation/bike-taxi-booking-system-26587-26597/bike_taxi_backend/src/api/schemas.py", "pattern": "/^class TripUpdateOut(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "UserCreate", "path": "/home/kavia/workspace/code-generation/bike-taxi-booking-system-26587-26597/bike_taxi_backend/src/api/schemas.py", "pattern": "/^class UserCreate(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "UserLogin", "path": "/home/kavia/workspace/code-generation/bike-taxi-booking-system-26587-26597/bike_taxi_backend/src/api/schemas.py", "pattern": "/^class UserLogin(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "UserOut", "path": "/home/kavia/workspace/code-generation/bike-taxi-booking-system-26587-26597/bike_taxi_backend/src/api/schemas.py", "pattern": "/^class UserOut(BaseModel):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "access_token", "path": "/home/kavia/workspace/code-generation/bike-taxi-booking-system-26587-26597/bike_taxi_backend/src/api/schemas.py", "pattern": "/^    access_token: str = Field(..., description=\"JWT bearer token\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "Token", "scopeKind": "class"}, {"_type": "tag", "name": "admin", "path": "/home/kavia/workspace/code-generation/bike-taxi-booking-system-26587-26597/bike_taxi_backend/src/api/schemas.py", "pattern": "/^    admin = \"admin\"$/", "language": "Python", "kind": "variable", "scope": "Role", "scopeKind": "class"}, {"_type": "tag", "name": "driver", "path": "/home/kavia/workspace/code-generation/bike-taxi-booking-system-26587-26597/bike_taxi_backend/src/api/schemas.py", "pattern": "/^    driver = \"driver\"$/", "language": "Python", "kind": "variable", "scope": "Role", "scopeKind": "class"}, {"_type": "tag", "name": "driver_id", "path": "/home/kavia/workspace/code-generation/bike-taxi-booking-system-26587-26597/bike_taxi_backend/src/api/schemas.py", "pattern": "/^    driver_id: Optional[str] = None$/", "language": "Python", "typeref": "typename:Optional[str]", "kind": "variable", "scope": "RideOut", "scopeKind": "class"}, {"_type": "tag", "name": "dropoff_lat", "path": "/home/kavia/workspace/code-generation/bike-taxi-booking-system-26587-26597/bike_taxi_backend/src/api/schemas.py", "pattern": "/^    dropoff_lat: float = Field(..., description=\"Dropoff latitude\")$/", "language": "Python", "typeref": "typename:float", "kind": "variable", "scope": "RideRequest", "scopeKind": "class"}, {"_type": "tag", "name": "dropoff_lng", "path": "/home/kavia/workspace/code-generation/bike-taxi-booking-system-26587-26597/bike_taxi_backend/src/api/schemas.py", "pattern": "/^    dropoff_lng: float = Field(..., description=\"Dropoff longitude\")$/", "language": "Python", "typeref": "typename:float", "kind": "variable", "scope": "RideRequest", "scopeKind": "class"}, {"_type": "tag", "name": "email", "path": "/home/kavia/workspace/code-generation/bike-taxi-booking-system-26587-26597/bike_taxi_backend/src/api/schemas.py", "pattern": "/^    email: EmailStr = Field(..., description=\"User email\")$/", "language": "Python", "typeref": "typename:EmailStr", "kind": "variable", "scope": "UserCreate", "scopeKind": "class"}, {"_type": "tag", "name": "email", "path": "/home/kavia/workspace/code-generation/bike-taxi-booking-system-26587-26597/bike_taxi_backend/src/api/schemas.py", "pattern": "/^    email: EmailStr = Field(..., description=\"User email\")$/", "language": "Python", "typeref": "typename:EmailStr", "kind": "variable", "scope": "UserLogin", "scopeKind": "class"}, {"_type": "tag", "name": "expires_in", "path": "/home/kavia/workspace/code-generation/bike-taxi-booking-system-26587-26597/bike_taxi_backend/src/api/schemas.py", "pattern": "/^    expires_in: int = Field(..., description=\"Expiration in seconds\")$/", "language": "Python", "typeref": "typename:int", "kind": "variable", "scope": "Token", "scopeKind": "class"}, {"_type": "tag", "name": "fare_estimate", "path": "/home/kavia/workspace/code-generation/bike-taxi-booking-system-26587-26597/bike_taxi_backend/src/api/schemas.py", "pattern": "/^    fare_estimate: Optional[float] = None$/", "language": "Python", "typeref": "typename:Optional[float]", "kind": "variable", "scope": "RideOut", "scopeKind": "class"}, {"_type": "tag", "name": "fare_final", "path": "/home/kavia/workspace/code-generation/bike-taxi-booking-system-26587-26597/bike_taxi_backend/src/api/schemas.py", "pattern": "/^    fare_final: Optional[float] = None$/", "language": "Python", "typeref": "typename:Optional[float]", "kind": "variable", "scope": "RideOut", "scopeKind": "class"}, {"_type": "tag", "name": "license_id", "path": "/home/kavia/workspace/code-generation/bike-taxi-booking-system-26587-26597/bike_taxi_backend/src/api/schemas.py", "pattern": "/^    license_id: str = Field(..., min_length=3, description=\"Driver license id\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "DriverCreate", "scopeKind": "class"}, {"_type": "tag", "name": "name", "path": "/home/kavia/workspace/code-generation/bike-taxi-booking-system-26587-26597/bike_taxi_backend/src/api/schemas.py", "pattern": "/^    name: str = Field(..., min_length=1, description=\"Full name\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "UserCreate", "scopeKind": "class"}, {"_type": "tag", "name": "note", "path": "/home/kavia/workspace/code-generation/bike-taxi-booking-system-26587-26597/bike_taxi_backend/src/api/schemas.py", "pattern": "/^    note: Optional[str] = None$/", "language": "Python", "typeref": "typename:Optional[str]", "kind": "variable", "scope": "TripUpdateIn", "scopeKind": "class"}, {"_type": "tag", "name": "note", "path": "/home/kavia/workspace/code-generation/bike-taxi-booking-system-26587-26597/bike_taxi_backend/src/api/schemas.py", "pattern": "/^    note: Optional[str] = None$/", "language": "Python", "typeref": "typename:Optional[str]", "kind": "variable", "scope": "TripUpdateOut", "scopeKind": "class"}, {"_type": "tag", "name": "passenger", "path": "/home/kavia/workspace/code-generation/bike-taxi-booking-system-26587-26597/bike_taxi_backend/src/api/schemas.py", "pattern": "/^    passenger = \"passenger\"$/", "language": "Python", "kind": "variable", "scope": "Role", "scopeKind": "class"}, {"_type": "tag", "name": "password", "path": "/home/kavia/workspace/code-generation/bike-taxi-booking-system-26587-26597/bike_taxi_backend/src/api/schemas.py", "pattern": "/^    password: str = Field(..., min_length=6, description=\"Password\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "UserCreate", "scopeKind": "class"}, {"_type": "tag", "name": "password", "path": "/home/kavia/workspace/code-generation/bike-taxi-booking-system-26587-26597/bike_taxi_backend/src/api/schemas.py", "pattern": "/^    password: str = Field(..., min_length=6, description=\"Password\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "UserLogin", "scopeKind": "class"}, {"_type": "tag", "name": "pickup_lat", "path": "/home/kavia/workspace/code-generation/bike-taxi-booking-system-26587-26597/bike_taxi_backend/src/api/schemas.py", "pattern": "/^    pickup_lat: float = Field(..., description=\"Pickup latitude\")$/", "language": "Python", "typeref": "typename:float", "kind": "variable", "scope": "RideRequest", "scopeKind": "class"}, {"_type": "tag", "name": "pickup_lng", "path": "/home/kavia/workspace/code-generation/bike-taxi-booking-system-26587-26597/bike_taxi_backend/src/api/schemas.py", "pattern": "/^    pickup_lng: float = Field(..., description=\"Pickup longitude\")$/", "language": "Python", "typeref": "typename:float", "kind": "variable", "scope": "RideRequest", "scopeKind": "class"}, {"_type": "tag", "name": "provider_ref", "path": "/home/kavia/workspace/code-generation/bike-taxi-booking-system-26587-26597/bike_taxi_backend/src/api/schemas.py", "pattern": "/^    provider_ref: Optional[str] = None$/", "language": "Python", "typeref": "typename:Optional[str]", "kind": "variable", "scope": "PaymentOut", "scopeKind": "class"}, {"_type": "tag", "name": "ride_id", "path": "/home/kavia/workspace/code-generation/bike-taxi-booking-system-26587-26597/bike_taxi_backend/src/api/schemas.py", "pattern": "/^    ride_id: str = Field(..., description=\"Ride identifier\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "PaymentInit", "scopeKind": "class"}, {"_type": "tag", "name": "role", "path": "/home/kavia/workspace/code-generation/bike-taxi-booking-system-26587-26597/bike_taxi_backend/src/api/schemas.py", "pattern": "/^    role: Role = Field(default=Role.passenger, description=\"Role of the user\")$/", "language": "Python", "typeref": "typename:Role", "kind": "variable", "scope": "UserCreate", "scopeKind": "class"}, {"_type": "tag", "name": "speed_kmh", "path": "/home/kavia/workspace/code-generation/bike-taxi-booking-system-26587-26597/bike_taxi_backend/src/api/schemas.py", "pattern": "/^    speed_kmh: Optional[float] = None$/", "language": "Python", "typeref": "typename:Optional[float]", "kind": "variable", "scope": "TripUpdateIn", "scopeKind": "class"}, {"_type": "tag", "name": "speed_kmh", "path": "/home/kavia/workspace/code-generation/bike-taxi-booking-system-26587-26597/bike_taxi_backend/src/api/schemas.py", "pattern": "/^    speed_kmh: Optional[float] = None$/", "language": "Python", "typeref": "typename:Optional[float]", "kind": "variable", "scope": "TripUpdateOut", "scopeKind": "class"}, {"_type": "tag", "name": "token_type", "path": "/home/kavia/workspace/code-generation/bike-taxi-booking-system-26587-26597/bike_taxi_backend/src/api/schemas.py", "pattern": "/^    token_type: str = Field(default=\"bearer\", description=\"Type of token (bearer)\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "Token", "scopeKind": "class"}, {"_type": "tag", "name": "vehicle_number", "path": "/home/kavia/workspace/code-generation/bike-taxi-booking-system-26587-26597/bike_taxi_backend/src/api/schemas.py", "pattern": "/^    vehicle_number: str = Field(..., min_length=3, description=\"Vehicle number\\/plate\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "DriverCreate", "scopeKind": "class"}], "hash": "28e4f73a194fcaf0ad7bcdb7cac901a1", "format-version": 4, "code-base-name": "bike_taxi_backend", "filename": "bike_taxi_backend/src/api/schemas.py", "fields": [{"name": "str access_token", "scope": "Token", "scopeKind": "class", "description": "unavailable"}, {"name": "admin = \"admin\"", "scope": "Role", "scopeKind": "class", "description": "unavailable"}, {"name": "driver = \"driver\"", "scope": "Role", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[str] driver_id", "scope": "RideOut", "scopeKind": "class", "description": "unavailable"}, {"name": "float dropoff_lat", "scope": "RideRequest", "scopeKind": "class", "description": "unavailable"}, {"name": "float dropoff_lng", "scope": "RideRequest", "scopeKind": "class", "description": "unavailable"}, {"name": "EmailStr email", "scope": "UserCreate", "scopeKind": "class", "description": "unavailable"}, {"name": "int expires_in", "scope": "Token", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[float] fare_estimate", "scope": "RideOut", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[float] fare_final", "scope": "RideOut", "scopeKind": "class", "description": "unavailable"}, {"name": "str license_id", "scope": "DriverCreate", "scopeKind": "class", "description": "unavailable"}, {"name": "str name", "scope": "UserCreate", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[str] note", "scope": "TripUpdateIn", "scopeKind": "class", "description": "unavailable"}, {"name": "passenger = \"passenger\"", "scope": "Role", "scopeKind": "class", "description": "unavailable"}, {"name": "str password", "scope": "UserCreate", "scopeKind": "class", "description": "unavailable"}, {"name": "float pickup_lat", "scope": "RideRequest", "scopeKind": "class", "description": "unavailable"}, {"name": "float pickup_lng", "scope": "RideRequest", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[str] provider_ref", "scope": "PaymentOut", "scopeKind": "class", "description": "unavailable"}, {"name": "str ride_id", "scope": "PaymentInit", "scopeKind": "class", "description": "unavailable"}, {"name": "Role role", "scope": "UserCreate", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[float] speed_kmh", "scope": "TripUpdateIn", "scopeKind": "class", "description": "unavailable"}, {"name": "str token_type", "scope": "Token", "scopeKind": "class", "description": "unavailable"}, {"name": "str vehicle_number", "scope": "DriverCreate", "scopeKind": "class", "description": "unavailable"}]}
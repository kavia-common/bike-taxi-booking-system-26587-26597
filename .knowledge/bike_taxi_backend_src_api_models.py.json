{"is_source_file": true, "format": "Python", "description": "This file defines data models, enums, and in-memory data stores for a bike taxi booking system backend, including classes for users, drivers, rides, trip updates, and payments.", "external_files": ["dataclasses", "enum", "typing", "datetime", "uuid"], "external_methods": ["datetime.utcnow", "uuid.uuid4"], "published": ["USERS", "DRIVERS", "RIDES", "TRIPS", "PAYMENTS", "gen_id"], "classes": [{"name": "Role", "description": "Enumeration of user roles such as passenger, driver, and admin."}, {"name": "RideStatus", "description": "Enumeration of possible ride statuses like requested, accepted, in progress, completed, and cancelled."}, {"name": "PaymentStatus", "description": "Enumeration of payment statuses including pending, authorized, captured, failed, and refunded."}, {"name": "User", "description": "Data class representing a user with attributes like id, email, name, role, and timestamps."}, {"name": "DriverProfile", "description": "Data class for driver-specific details such as vehicle information, license, rating, and ride counts."}, {"name": "Ride", "description": "Data class representing a ride with location data, status, fare estimates, and timestamps."}, {"name": "TripUpdate", "description": "Data class for real-time trip updates including location, speed, note, and timestamp."}, {"name": "Payment", "description": "Data class for payment records containing amount, currency, status, provider reference, and timestamps."}], "methods": [{"name": "str gen_id()", "description": "Function to generate a new unique identifier using UUID4.", "scope": "", "scopeKind": ""}], "calls": ["datetime.utcnow", "uuid.uuid4"], "search-terms": ["User data model", "Ride status enum", "payment status enum", "in-memory data stores", "backend data classes", "ride trip updates", "driver profile"], "state": 2, "file_id": 6, "knowledge_revision": 13, "git_revision": "", "ctags": [{"_type": "tag", "name": "ACCEPTED", "path": "/home/kavia/workspace/code-generation/bike-taxi-booking-system-26587-26597/bike_taxi_backend/src/api/models.py", "pattern": "/^    ACCEPTED = \"accepted\"$/", "language": "Python", "kind": "variable", "scope": "RideStatus", "scopeKind": "class"}, {"_type": "tag", "name": "ADMIN", "path": "/home/kavia/workspace/code-generation/bike-taxi-booking-system-26587-26597/bike_taxi_backend/src/api/models.py", "pattern": "/^    ADMIN = \"admin\"$/", "language": "Python", "kind": "variable", "scope": "Role", "scopeKind": "class"}, {"_type": "tag", "name": "AUTHORIZED", "path": "/home/kavia/workspace/code-generation/bike-taxi-booking-system-26587-26597/bike_taxi_backend/src/api/models.py", "pattern": "/^    AUTHORIZED = \"authorized\"$/", "language": "Python", "kind": "variable", "scope": "PaymentStatus", "scopeKind": "class"}, {"_type": "tag", "name": "CANCELLED", "path": "/home/kavia/workspace/code-generation/bike-taxi-booking-system-26587-26597/bike_taxi_backend/src/api/models.py", "pattern": "/^    CANCELLED = \"cancelled\"$/", "language": "Python", "kind": "variable", "scope": "RideStatus", "scopeKind": "class"}, {"_type": "tag", "name": "CAPTURED", "path": "/home/kavia/workspace/code-generation/bike-taxi-booking-system-26587-26597/bike_taxi_backend/src/api/models.py", "pattern": "/^    CAPTURED = \"captured\"$/", "language": "Python", "kind": "variable", "scope": "PaymentStatus", "scopeKind": "class"}, {"_type": "tag", "name": "COMPLETED", "path": "/home/kavia/workspace/code-generation/bike-taxi-booking-system-26587-26597/bike_taxi_backend/src/api/models.py", "pattern": "/^    COMPLETED = \"completed\"$/", "language": "Python", "kind": "variable", "scope": "RideStatus", "scopeKind": "class"}, {"_type": "tag", "name": "DRIVER", "path": "/home/kavia/workspace/code-generation/bike-taxi-booking-system-26587-26597/bike_taxi_backend/src/api/models.py", "pattern": "/^    DRIVER = \"driver\"$/", "language": "Python", "kind": "variable", "scope": "Role", "scopeKind": "class"}, {"_type": "tag", "name": "DRIVERS", "path": "/home/kavia/workspace/code-generation/bike-taxi-booking-system-26587-26597/bike_taxi_backend/src/api/models.py", "pattern": "/^DRIVERS: Dict[str, DriverProfile] = {}$/", "language": "Python", "typeref": "typename:Dict[str, DriverProfile]", "kind": "variable"}, {"_type": "tag", "name": "DriverProfile", "path": "/home/kavia/workspace/code-generation/bike-taxi-booking-system-26587-26597/bike_taxi_backend/src/api/models.py", "pattern": "/^class DriverProfile:$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "FAILED", "path": "/home/kavia/workspace/code-generation/bike-taxi-booking-system-26587-26597/bike_taxi_backend/src/api/models.py", "pattern": "/^    FAILED = \"failed\"$/", "language": "Python", "kind": "variable", "scope": "PaymentStatus", "scopeKind": "class"}, {"_type": "tag", "name": "IN_PROGRESS", "path": "/home/kavia/workspace/code-generation/bike-taxi-booking-system-26587-26597/bike_taxi_backend/src/api/models.py", "pattern": "/^    IN_PROGRESS = \"in_progress\"$/", "language": "Python", "kind": "variable", "scope": "RideStatus", "scopeKind": "class"}, {"_type": "tag", "name": "PASSENGER", "path": "/home/kavia/workspace/code-generation/bike-taxi-booking-system-26587-26597/bike_taxi_backend/src/api/models.py", "pattern": "/^    PASSENGER = \"passenger\"$/", "language": "Python", "kind": "variable", "scope": "Role", "scopeKind": "class"}, {"_type": "tag", "name": "PAYMENTS", "path": "/home/kavia/workspace/code-generation/bike-taxi-booking-system-26587-26597/bike_taxi_backend/src/api/models.py", "pattern": "/^PAYMENTS: Dict[str, Payment] = {}$/", "language": "Python", "typeref": "typename:Dict[str, Payment]", "kind": "variable"}, {"_type": "tag", "name": "PENDING", "path": "/home/kavia/workspace/code-generation/bike-taxi-booking-system-26587-26597/bike_taxi_backend/src/api/models.py", "pattern": "/^    PENDING = \"pending\"$/", "language": "Python", "kind": "variable", "scope": "PaymentStatus", "scopeKind": "class"}, {"_type": "tag", "name": "Payment", "path": "/home/kavia/workspace/code-generation/bike-taxi-booking-system-26587-26597/bike_taxi_backend/src/api/models.py", "pattern": "/^class Payment:$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "PaymentStatus", "path": "/home/kavia/workspace/code-generation/bike-taxi-booking-system-26587-26597/bike_taxi_backend/src/api/models.py", "pattern": "/^class PaymentStatus(str, Enum):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "REFUNDED", "path": "/home/kavia/workspace/code-generation/bike-taxi-booking-system-26587-26597/bike_taxi_backend/src/api/models.py", "pattern": "/^    REFUNDED = \"refunded\"$/", "language": "Python", "kind": "variable", "scope": "PaymentStatus", "scopeKind": "class"}, {"_type": "tag", "name": "REQUESTED", "path": "/home/kavia/workspace/code-generation/bike-taxi-booking-system-26587-26597/bike_taxi_backend/src/api/models.py", "pattern": "/^    REQUESTED = \"requested\"$/", "language": "Python", "kind": "variable", "scope": "RideStatus", "scopeKind": "class"}, {"_type": "tag", "name": "RIDES", "path": "/home/kavia/workspace/code-generation/bike-taxi-booking-system-26587-26597/bike_taxi_backend/src/api/models.py", "pattern": "/^RIDES: Dict[str, Ride] = {}$/", "language": "Python", "typeref": "typename:Dict[str, Ride]", "kind": "variable"}, {"_type": "tag", "name": "Ride", "path": "/home/kavia/workspace/code-generation/bike-taxi-booking-system-26587-26597/bike_taxi_backend/src/api/models.py", "pattern": "/^class Ride:$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "RideStatus", "path": "/home/kavia/workspace/code-generation/bike-taxi-booking-system-26587-26597/bike_taxi_backend/src/api/models.py", "pattern": "/^class RideStatus(str, Enum):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "Role", "path": "/home/kavia/workspace/code-generation/bike-taxi-booking-system-26587-26597/bike_taxi_backend/src/api/models.py", "pattern": "/^class Role(str, Enum):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "TRIPS", "path": "/home/kavia/workspace/code-generation/bike-taxi-booking-system-26587-26597/bike_taxi_backend/src/api/models.py", "pattern": "/^TRIPS: Dict[str, List[TripUpdate]] = {}$/", "language": "Python", "typeref": "typename:Dict[str, List[TripUpdate]]", "kind": "variable"}, {"_type": "tag", "name": "TripUpdate", "path": "/home/kavia/workspace/code-generation/bike-taxi-booking-system-26587-26597/bike_taxi_backend/src/api/models.py", "pattern": "/^class TripUpdate:$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "USERS", "path": "/home/kavia/workspace/code-generation/bike-taxi-booking-system-26587-26597/bike_taxi_backend/src/api/models.py", "pattern": "/^USERS: Dict[str, User] = {}$/", "language": "Python", "typeref": "typename:Dict[str, User]", "kind": "variable"}, {"_type": "tag", "name": "User", "path": "/home/kavia/workspace/code-generation/bike-taxi-booking-system-26587-26597/bike_taxi_backend/src/api/models.py", "pattern": "/^class User:$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "created_at", "path": "/home/kavia/workspace/code-generation/bike-taxi-booking-system-26587-26597/bike_taxi_backend/src/api/models.py", "pattern": "/^    created_at: datetime = field(default_factory=datetime.utcnow)$/", "language": "Python", "typeref": "typename:datetime", "kind": "variable", "scope": "DriverProfile", "scopeKind": "class"}, {"_type": "tag", "name": "created_at", "path": "/home/kavia/workspace/code-generation/bike-taxi-booking-system-26587-26597/bike_taxi_backend/src/api/models.py", "pattern": "/^    created_at: datetime = field(default_factory=datetime.utcnow)$/", "language": "Python", "typeref": "typename:datetime", "kind": "variable", "scope": "Payment", "scopeKind": "class"}, {"_type": "tag", "name": "created_at", "path": "/home/kavia/workspace/code-generation/bike-taxi-booking-system-26587-26597/bike_taxi_backend/src/api/models.py", "pattern": "/^    created_at: datetime = field(default_factory=datetime.utcnow)$/", "language": "Python", "typeref": "typename:datetime", "kind": "variable", "scope": "Ride", "scopeKind": "class"}, {"_type": "tag", "name": "created_at", "path": "/home/kavia/workspace/code-generation/bike-taxi-booking-system-26587-26597/bike_taxi_backend/src/api/models.py", "pattern": "/^    created_at: datetime = field(default_factory=datetime.utcnow)$/", "language": "Python", "typeref": "typename:datetime", "kind": "variable", "scope": "User", "scopeKind": "class"}, {"_type": "tag", "name": "currency", "path": "/home/kavia/workspace/code-generation/bike-taxi-booking-system-26587-26597/bike_taxi_backend/src/api/models.py", "pattern": "/^    currency: str = \"USD\"$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "Payment", "scopeKind": "class"}, {"_type": "tag", "name": "fare_estimate", "path": "/home/kavia/workspace/code-generation/bike-taxi-booking-system-26587-26597/bike_taxi_backend/src/api/models.py", "pattern": "/^    fare_estimate: Optional[float] = None$/", "language": "Python", "typeref": "typename:Optional[float]", "kind": "variable", "scope": "Ride", "scopeKind": "class"}, {"_type": "tag", "name": "fare_final", "path": "/home/kavia/workspace/code-generation/bike-taxi-booking-system-26587-26597/bike_taxi_backend/src/api/models.py", "pattern": "/^    fare_final: Optional[float] = None$/", "language": "Python", "typeref": "typename:Optional[float]", "kind": "variable", "scope": "Ride", "scopeKind": "class"}, {"_type": "tag", "name": "gen_id", "path": "/home/kavia/workspace/code-generation/bike-taxi-booking-system-26587-26597/bike_taxi_backend/src/api/models.py", "pattern": "/^def gen_id() -> str:$/", "language": "Python", "typeref": "typename:str", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "is_active", "path": "/home/kavia/workspace/code-generation/bike-taxi-booking-system-26587-26597/bike_taxi_backend/src/api/models.py", "pattern": "/^    is_active: bool = True$/", "language": "Python", "typeref": "typename:bool", "kind": "variable", "scope": "DriverProfile", "scopeKind": "class"}, {"_type": "tag", "name": "note", "path": "/home/kavia/workspace/code-generation/bike-taxi-booking-system-26587-26597/bike_taxi_backend/src/api/models.py", "pattern": "/^    note: Optional[str] = None$/", "language": "Python", "typeref": "typename:Optional[str]", "kind": "variable", "scope": "TripUpdate", "scopeKind": "class"}, {"_type": "tag", "name": "provider_ref", "path": "/home/kavia/workspace/code-generation/bike-taxi-booking-system-26587-26597/bike_taxi_backend/src/api/models.py", "pattern": "/^    provider_ref: Optional[str] = None$/", "language": "Python", "typeref": "typename:Optional[str]", "kind": "variable", "scope": "Payment", "scopeKind": "class"}, {"_type": "tag", "name": "rating", "path": "/home/kavia/workspace/code-generation/bike-taxi-booking-system-26587-26597/bike_taxi_backend/src/api/models.py", "pattern": "/^    rating: float = 5.0$/", "language": "Python", "typeref": "typename:float", "kind": "variable", "scope": "DriverProfile", "scopeKind": "class"}, {"_type": "tag", "name": "speed_kmh", "path": "/home/kavia/workspace/code-generation/bike-taxi-booking-system-26587-26597/bike_taxi_backend/src/api/models.py", "pattern": "/^    speed_kmh: Optional[float] = None$/", "language": "Python", "typeref": "typename:Optional[float]", "kind": "variable", "scope": "TripUpdate", "scopeKind": "class"}, {"_type": "tag", "name": "status", "path": "/home/kavia/workspace/code-generation/bike-taxi-booking-system-26587-26597/bike_taxi_backend/src/api/models.py", "pattern": "/^    status: PaymentStatus = PaymentStatus.PENDING$/", "language": "Python", "typeref": "typename:PaymentStatus", "kind": "variable", "scope": "Payment", "scopeKind": "class"}, {"_type": "tag", "name": "status", "path": "/home/kavia/workspace/code-generation/bike-taxi-booking-system-26587-26597/bike_taxi_backend/src/api/models.py", "pattern": "/^    status: RideStatus = RideStatus.REQUESTED$/", "language": "Python", "typeref": "typename:RideStatus", "kind": "variable", "scope": "Ride", "scopeKind": "class"}, {"_type": "tag", "name": "timestamp", "path": "/home/kavia/workspace/code-generation/bike-taxi-booking-system-26587-26597/bike_taxi_backend/src/api/models.py", "pattern": "/^    timestamp: datetime = field(default_factory=datetime.utcnow)$/", "language": "Python", "typeref": "typename:datetime", "kind": "variable", "scope": "TripUpdate", "scopeKind": "class"}, {"_type": "tag", "name": "total_rides", "path": "/home/kavia/workspace/code-generation/bike-taxi-booking-system-26587-26597/bike_taxi_backend/src/api/models.py", "pattern": "/^    total_rides: int = 0$/", "language": "Python", "typeref": "typename:int", "kind": "variable", "scope": "DriverProfile", "scopeKind": "class"}, {"_type": "tag", "name": "updated_at", "path": "/home/kavia/workspace/code-generation/bike-taxi-booking-system-26587-26597/bike_taxi_backend/src/api/models.py", "pattern": "/^    updated_at: datetime = field(default_factory=datetime.utcnow)$/", "language": "Python", "typeref": "typename:datetime", "kind": "variable", "scope": "DriverProfile", "scopeKind": "class"}, {"_type": "tag", "name": "updated_at", "path": "/home/kavia/workspace/code-generation/bike-taxi-booking-system-26587-26597/bike_taxi_backend/src/api/models.py", "pattern": "/^    updated_at: datetime = field(default_factory=datetime.utcnow)$/", "language": "Python", "typeref": "typename:datetime", "kind": "variable", "scope": "Payment", "scopeKind": "class"}, {"_type": "tag", "name": "updated_at", "path": "/home/kavia/workspace/code-generation/bike-taxi-booking-system-26587-26597/bike_taxi_backend/src/api/models.py", "pattern": "/^    updated_at: datetime = field(default_factory=datetime.utcnow)$/", "language": "Python", "typeref": "typename:datetime", "kind": "variable", "scope": "Ride", "scopeKind": "class"}, {"_type": "tag", "name": "updated_at", "path": "/home/kavia/workspace/code-generation/bike-taxi-booking-system-26587-26597/bike_taxi_backend/src/api/models.py", "pattern": "/^    updated_at: datetime = field(default_factory=datetime.utcnow)$/", "language": "Python", "typeref": "typename:datetime", "kind": "variable", "scope": "User", "scopeKind": "class"}], "hash": "2ecd7397b001e046eb8a0d724da15ff4", "format-version": 4, "code-base-name": "bike_taxi_backend", "filename": "bike_taxi_backend/src/api/models.py", "fields": [{"name": "ACCEPTED = \"accepted\"", "scope": "RideStatus", "scopeKind": "class", "description": "unavailable"}, {"name": "ADMIN = \"admin\"", "scope": "Role", "scopeKind": "class", "description": "unavailable"}, {"name": "AUTHORIZED = \"authorized\"", "scope": "PaymentStatus", "scopeKind": "class", "description": "unavailable"}, {"name": "CANCELLED = \"cancelled\"", "scope": "RideStatus", "scopeKind": "class", "description": "unavailable"}, {"name": "CAPTURED = \"captured\"", "scope": "PaymentStatus", "scopeKind": "class", "description": "unavailable"}, {"name": "COMPLETED = \"completed\"", "scope": "RideStatus", "scopeKind": "class", "description": "unavailable"}, {"name": "DRIVER = \"driver\"", "scope": "Role", "scopeKind": "class", "description": "unavailable"}, {"name": "Dict[str, DriverProfile] DRIVERS", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "FAILED = \"failed\"", "scope": "PaymentStatus", "scopeKind": "class", "description": "unavailable"}, {"name": "IN_PROGRESS = \"in_progress\"", "scope": "RideStatus", "scopeKind": "class", "description": "unavailable"}, {"name": "PASSENGER = \"passenger\"", "scope": "Role", "scopeKind": "class", "description": "unavailable"}, {"name": "Dict[str, Payment] PAYMENTS", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "PENDING = \"pending\"", "scope": "PaymentStatus", "scopeKind": "class", "description": "unavailable"}, {"name": "REFUNDED = \"refunded\"", "scope": "PaymentStatus", "scopeKind": "class", "description": "unavailable"}, {"name": "REQUESTED = \"requested\"", "scope": "RideStatus", "scopeKind": "class", "description": "unavailable"}, {"name": "Dict[str, Ride] RIDES", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "Dict[str, List[TripUpdate]] TRIPS", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "Dict[str, User] USERS", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "datetime created_at", "scope": "DriverProfile", "scopeKind": "class", "description": "unavailable"}, {"name": "str currency", "scope": "Payment", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[float] fare_estimate", "scope": "Ride", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[float] fare_final", "scope": "Ride", "scopeKind": "class", "description": "unavailable"}, {"name": "bool is_active", "scope": "DriverProfile", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[str] note", "scope": "TripUpdate", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[str] provider_ref", "scope": "Payment", "scopeKind": "class", "description": "unavailable"}, {"name": "float rating", "scope": "DriverProfile", "scopeKind": "class", "description": "unavailable"}, {"name": "Optional[float] speed_kmh", "scope": "TripUpdate", "scopeKind": "class", "description": "unavailable"}, {"name": "PaymentStatus status", "scope": "Payment", "scopeKind": "class", "description": "unavailable"}, {"name": "RideStatus status", "scope": "Ride", "scopeKind": "class", "description": "unavailable"}, {"name": "datetime timestamp", "scope": "TripUpdate", "scopeKind": "class", "description": "unavailable"}, {"name": "int total_rides", "scope": "DriverProfile", "scopeKind": "class", "description": "unavailable"}, {"name": "datetime updated_at", "scope": "DriverProfile", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"13": ""}]}
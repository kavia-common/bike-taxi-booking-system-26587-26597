{"is_source_file": true, "format": "Python", "description": "This file defines API routes for managing driver profiles in a bike taxi booking system. It includes endpoints for creating or updating driver profiles, listing all active drivers, and toggling driver availability. It utilizes FastAPI for web framework functionalities, with models, schemas, and authentication dependencies imported from other parts of the project.", "external_files": ["src/api/schemas.py", "src/api/models.py", "src/api/auth.py"], "external_methods": ["src.api.models.gen_id", "src.api.auth.require_role"], "published": ["router"], "classes": [{"name": "APIRouter", "description": "FastAPI API Router object used to define route groups and endpoints."}], "methods": [{"name": "upsert_driver_profile(body: DriverCreate, user=Depends(require_role(Role.DRIVER)))", "description": "Creates or updates a driver profile for the current user based on provided data.", "scope": "", "scopeKind": ""}, {"name": "list_drivers()", "description": "Returns a list of all active driver profiles.", "scope": "", "scopeKind": ""}, {"name": "toggle_driver(driver_id: str, user=Depends(require_role(Role.DRIVER)))", "description": "Toggles the active status of a driver profile given its ID, only if the user is the owner driver.", "scope": "", "scopeKind": ""}], "calls": ["next", "DRIVERS.get", "DRIVERS.__setitem__", "DriverOut", "DriverProfile", "gen_id", "raise HTTPException"], "search-terms": ["drivers API route", "toggle driver availability", "driver profile management", "create or update driver", "list active drivers"], "state": 2, "file_id": 10, "knowledge_revision": 32, "git_revision": "", "revision_history": [{"21": ""}, {"32": ""}], "ctags": [{"_type": "tag", "name": "list_drivers", "path": "/home/kavia/workspace/code-generation/bike-taxi-booking-system-26587-26597/bike_taxi_backend/src/api/routers_drivers.py", "pattern": "/^def list_drivers():$/", "language": "Python", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "router", "path": "/home/kavia/workspace/code-generation/bike-taxi-booking-system-26587-26597/bike_taxi_backend/src/api/routers_drivers.py", "pattern": "/^router = APIRouter(prefix=\"\\/drivers\", tags=[\"Drivers\"])$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "toggle_driver", "path": "/home/kavia/workspace/code-generation/bike-taxi-booking-system-26587-26597/bike_taxi_backend/src/api/routers_drivers.py", "pattern": "/^def toggle_driver(driver_id: str, user=Depends(require_role(Role.DRIVER))):$/", "language": "Python", "kind": "function", "signature": "(driver_id: str, user=Depends(require_role(Role.DRIVER)))"}, {"_type": "tag", "name": "upsert_driver_profile", "path": "/home/kavia/workspace/code-generation/bike-taxi-booking-system-26587-26597/bike_taxi_backend/src/api/routers_drivers.py", "pattern": "/^def upsert_driver_profile(body: DriverCreate, user=Depends(require_role(Role.DRIVER))):$/", "language": "Python", "kind": "function", "signature": "(body: DriverCreate, user=Depends(require_role(Role.DRIVER)))"}], "hash": "dc841f9afa4f47d1171720af474e794e", "format-version": 4, "code-base-name": "bike_taxi_backend", "filename": "bike_taxi_backend/src/api/routers_drivers.py", "fields": [{"name": "router = APIRouter(prefix=\"\\/drivers\", tags=[\"Drivers\"])", "scope": "", "scopeKind": "", "description": "unavailable"}]}